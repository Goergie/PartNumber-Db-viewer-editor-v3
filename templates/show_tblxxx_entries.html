{% extends "layout.html"%}
{% block body %}
  <h1 align="center">Partnumber Database Viewer-Editor v3</h1>
{# <!--Add entry--> #}
 	<form action="{{ url_for('add_tbl1xx_entry') }}" method=post class="form-inline" role="add_row_form">
		<h3>Add row</h3>
		{% for col in cols %}
			{% if col != 'status' and col != 'rohs' and col !='pn' %}
				<div class="form-group">
						<label for="{{col}}">{{col}}:</label>
						<input type="text" size="10" name="{{col}}" id="{{col}}">
				</div>
			{% endif %}
			{% if col == 'status'%}
				<div class="form-group dropdown">
					<label for="{{col}}">{{col}}:</label>
					<select class="form-control text-center" id="{{col}}" name="{{col}}">
						<option value="active">Active</option>
						<option value="inactive">Inactive</option>
						<option value="deleted">Deleted</option>
						<option value="active">n/a</option>
					</select>
				</div>
			{% endif %}
			{% if col == 'rohs'%}
				<div class="form-group dropdown">
					<label for={{col}}>{{col}}:</label>
					<select class="form-control text-center" id="{{col}}" name="{{col}}">
						<option value="yes">Yes</option>
						<option value="no">No</option>
						<option value="n/a">n/a</option>
					</select>
				</div>
			{% endif %}
		{% endfor %}
		<div class="form-group">
			<input type="submit" class="btn btn-success" value="Add">
		</div>
	</form>
<br>
<div class="dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="false" aria-expanded="false">
    Select table
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="tableSelect">
		{% for tbl in tbls %}
		<li><a href="{{ url_for('show_tbl1xx_entries') }}">{{tbl}}</a></li>
		{% endfor %}
  </ul>
</div>
<br>
{# <!--Table view--> #}
<div style="overflow-x:auto">
	<table width=100%  border="1px solid black" border-collapse="collapse">
		<tr>
		{% for col in cols %}
			<th>{{col}}</th>
		{% endfor %}
			<th width="50px">Mod</th>
			<th width="50px">Del</th>
			<th width="120px">Select
			<input type="checkbox" class="check" id="checkAll"></th>
		</tr>
		<tr>
			{% set cols_num = cols | length %}
			{% for row in rows %}
				{% for i in range(cols_num) %}
				<td>{{ row[i] }}</td>
				{% endfor %}
				<td><a href="{{ url_for('mod_tbl1xx_entry') }}">
					<button type="button" class="btn btn-default" aria-label="mod">
						<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
					</button>
					<td><form action="{{ url_for('del_tbl1xx_entry') }}" method=post>
						<input type="hidden" id="{{pn}}" name="{{pn}}" value={{pn}}>
						<button type="button" class="btn btn-default" aria-label="delete">
							<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
						</button>
					<td><input class="check" type="checkbox" value="1"></td></form>
		</tr>
		{% else %}
			<em>No entries here so far</em>
		{% endfor %}
	</table>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}" type="text/javascript"></script>
{# <!--Script for checking all checkboxs--> #}
<script>
$("#checkAll").click(function() {
  $(".check").prop('checked', $(this).prop('checked'));
});
</script>
{% endblock %}
